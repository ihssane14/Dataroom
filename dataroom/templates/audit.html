<!DOCTYPE html>
<html>
<head>
    <title>Audit - DataRoom</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .header {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .back-link {
            color: #0066cc;
            text-decoration: none;
            margin-bottom: 20px;
            display: inline-block;
        }
        
        .audit-log {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .audit-entry {
            padding: 15px 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
        }
        
        .audit-entry:hover {
            background: #f8f9fa;
        }
        
        .audit-time {
            width: 150px;
            color: #666;
            font-size: 14px;
        }
        
        .audit-event {
            flex: 1;
            font-weight: bold;
        }
        
        .audit-user {
            width: 120px;
            color: #0066cc;
        }
        
        .audit-ip {
            width: 120px;
            font-family: monospace;
            color: #666;
        }
        
        .severity-high {
            color: #dc3545;
            font-weight: bold;
        }
        
        .severity-medium {
            color: #fd7e14;
        }
        
        .severity-low {
            color: #28a745;
        }
        
        .stats {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-box {
            background: white;
            padding: 20px;
            border-radius: 10px;
            flex: 1;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 32px;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            color: #666;
            font-size: 14px;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="/dashboard" class="back-link">‚Üê Back to Dashboard</a>
        <h1 style="margin: 10px 0; color: #0066cc;">üîí Security Audit</h1>
        <p>Security event logs and access monitoring</p>
    </div>
    
    <div class="stats">
        <div class="stat-box">
            <div style="color: #0066cc; font-size: 24px;">üìã</div>
            <div class="stat-number">{{ audit_logs|length }}</div>
            <div class="stat-label">Total Events</div>
        </div>
        
        <div class="stat-box">
            <div style="color: #28a745; font-size: 24px;">‚úÖ</div>
            <div class="stat-number">24</div>
            <div class="stat-label">Today's Events</div>
        </div>
        
        <div class="stat-box">
            <div style="color: #dc3545; font-size: 24px;">‚ö†Ô∏è</div>
            <div class="stat-number">3</div>
            <div class="stat-label">High Severity</div>
        </div>
    </div>
    
    <div class="audit-log">
        <div style="background: #f8f9fa; padding: 15px 20px; font-weight: bold; color: #333;">
            Recent Security Events
        </div>
        
        {% for log in audit_logs %}
        <div class="audit-entry">
            <div class="audit-time">{{ log.time }}</div>
            <div class="audit-event">{{ log.event }}</div>
            <div class="audit-user">{{ log.user }}</div>
            <div class="audit-ip">{{ log.ip }}</div>
            <div class="severity-low">Low</div>
        </div>
        {% endfor %}
        
        <!-- Additional sample logs -->
        <div class="audit-entry">
            <div class="audit-time">2024-01-15 09:15</div>
            <div class="audit-event">User login successful</div>
            <div class="audit-user">admin</div>
            <div class="audit-ip">192.168.1.100</div>
            <div class="severity-low">Low</div>
        </div>
        
        <div class="audit-entry">
            <div class="audit-time">2024-01-15 10:30</div>
            <div class="audit-event">Document accessed: report.txt</div>
            <div class="audit-user">admin</div>
            <div class="audit-ip">192.168.1.100</div>
            <div class="severity-low">Low</div>
        </div>
        
        <div class="audit-entry">
            <div class="audit-time">2024-01-15 11:45</div>
            <div class="audit-event">System command executed</div>
            <div class="audit-user">admin</div>
            <div class="audit-ip">192.168.1.100</div>
            <div class="severity-medium">Medium</div>
        </div>
        
        <div class="audit-entry">
            <div class="audit-time">2024-01-15 13:20</div>
            <div class="audit-event">Failed login attempt</div>
            <div class="audit-user">unknown</div>
            <div class="audit-ip">203.0.113.45</div>
            <div class="severity-high">High</div>
        </div>
    </div>
    
    <div style="background: white; padding: 20px; border-radius: 10px;">
        <h3>Audit Log Information</h3>
        <p>All system activities are logged for security compliance. Logs are retained for 90 days.</p>
        
        <div style="display: flex; gap: 20px; margin-top: 15px;">
            <div style="flex: 1;">
                <h4>Event Types</h4>
                <ul>
                    <li>Authentication events (login/logout)</li>
                    <li>Document access and modifications</li>